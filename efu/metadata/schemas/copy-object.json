{
    "$schema": "http://json-schema.org/draft-04/schema#",

    "title": "Copy Image",
    "description": "Image specifications for COPY install mode",

    "type": "object",

    "properties": {
        "filename": {
            "description": "file name used by client to rebuild the commit",
            "type": "string",
            "minLength": 1
        },
        "size": {
            "description": "Total size of the image in bytes",
            "type": "integer",
            "minimum": 0
        },
        "sha256sum": {
            "descsription": "SHA256 sum of the image data",
            "$ref": "definitions.json#/sha256sum"
        },
        "mode": {
            "description": "Represents the install mode for the image data",
            "type": "string",
            "enum": [
                "copy"
            ]
        },
        "target-device": {
            "description": "Target device for the image (e.g. /dev/sda1)",
            "type": "string"
        },
        "required-compressed-size": {
            "description": "Number of bytes required for storing the image file plus the worst case of temporary files it generates while extracting the image (e.g., in case of differential updates)",
            "type": "integer",
            "minimum": 0
        },
        "required-uncompressed-size": {
            "description": "Number of bytes required for installing the image",
            "type": "integer",
            "minimum": 0
        },
        "post-update-hook": {
            "description": "Hook to be runned after image update is completed",
            "$ref": "post-update-hook.json"
        },
        "filesystem": {
            "description": "Filesystem type that must be used to mount the target-device",
            "type": "string"
        },
        "target-path": {
            "description": "Target path on which the image must be installed to (e.g., /vmlinuz). This is relative to the mount point. Field present when mode equals to copy or tarball",
            "type": "string"
        },
        "format?": {
            "description": "Specifies whether the target device (target-device) should be formatted",
            "type": "boolean",
            "default": false
        },
        "format-options": {
            "description": "Options to format target-device",
            "type": "string"
        },
        "mount-options": {
            "description": "Options to mount the filesystem in target-device",
            "type": "string"
        }
    },

    "required": [
        "filename",
        "filesystem",
        "mode",
        "sha256sum",
        "size",
        "target-device",
        "target-path"
    ],

    "additionalProperties": false
}
