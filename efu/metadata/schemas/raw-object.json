{
    "$schema": "http://json-schema.org/draft-04/schema#",

    "title": "Raw image",
    "description": "Image specifications for RAW install mode",

    "type": "object",

    "properties": {
        "filename": {
            "description": "file name used by client to rebuild the commit",
            "type": "string",
            "minLength": 1
        },
        "size": {
            "description": "Total size of the image in bytes",
            "type": "integer",
            "minimum": 0
        },
        "sha256sum": {
            "descsription": "SHA256 sum of the image data",
            "$ref": "definitions.json#/sha256sum"
        },
        "mode": {
            "description": "Represents the install mode for the image data",
            "type": "string",
            "enum": [
                "raw"
            ]
        },
        "target-device": {
            "description": "Target device for the image (e.g. /dev/sda1)",
            "type": "string"
        },
        "required-compressed-size": {
            "description": "Number of bytes required for storing the image file plus the worst case of temporary files it generates while extracting the image (e.g., in case of differential updates)",
            "type": "integer",
            "minimum": 0
        },
        "required-uncompressed-size": {
            "description": "Number of bytes required for installing the image",
            "type": "integer",
            "minimum": 0
        },
        "post-update-hook": {
            "description": "Hook to be runned after image update is completed",
            "$ref": "post-update-hook.json"
        },
        "chunk-size": {
            "description": "The size of the buffers (in bytes) used to read and write (default is 4MiB).",
            "type": "integer",
            "default": 4194304,
            "minimum": 0
        },
        "skip": {
            "description": "How many chunk-size blocks must be skipped in the source file",
            "type": "integer",
            "default": 0,
            "minimum": 0
        },
        "seek": {
            "description": "How many chunk-size blocks must be skipped in the target file",
            "type": "integer",
            "default": 0,
            "minimum": 0
        },
        "count": {
            "description": "How many chunk-size blocks must be copied from the source file to the target. The default value of -1 means all possible bytes until the end of the file",
            "type": "integer",
            "default": -1,
            "minimum": -1
        },
        "truncate": {
            "description": "True if the file pointed to by the target_path should be open in truncate mode (erase content before writing)",
            "type": "boolean",
            "default": true
        }
    },

    "required": [
        "filename",
        "mode",
        "sha256sum",
        "size",
        "target-device"
    ],

    "additionalProperties": false
}
